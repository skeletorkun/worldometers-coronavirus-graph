<!-- views/partials/spider-chart.ejs -->

<!--NOTE: host pages must include the following in <head>-->
<!--<script src='http://code.jquery.com/jquery-1.6.1.js'></script>-->
<!--<script src="scripts/SpiderChartControl.js"></script>-->

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/highcharts-more.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<div id="container" style="min-width: 300px; max-width: 1000px; height: 300px; margin: 0 auto"></div>

<script>

  var graphData = <%- JSON.stringify(graphData) %>

  console.log(graphData);
  
  new Highcharts.Chart({
    chart: {
      renderTo: 'container',
      type: 'line',
      marginRight: 130,
      marginBottom: 25,
    },
    title: {
      text: 'Disease',
      x: -20, //center
    },
    subtitle: {
      text: '',
      x: -20,
    },
    xAxis: {
      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
    },
    yAxis: {
      title: {
        text: 'Patient Count',
      },
      plotLines: [{
        value: 0,
        width: 1,
        color: '#808080',
      }],
    },
    tooltip: {
      formatter: function() {
        return '<b>' + this.series.name + '</b><br/>' +
          this.x + ': ' + this.y;
      },
    },
    legend: {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'top',
      x: -10,
      y: 100,
      borderWidth: 0,
    },
    series: [{
      name: 'Jane',
      data: [1, 0, 4],
    }, {
      name: 'John',
      data: [5, 7, 3],
    }],
  });
</script>